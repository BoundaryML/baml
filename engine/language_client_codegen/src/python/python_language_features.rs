use crate::dir_writer::LanguageFeatures;
use baml_types::{BamlMediaType, TypeValue};

#[derive(Default)]
pub(super) struct PythonLanguageFeatures {}

impl LanguageFeatures for PythonLanguageFeatures {
    const CONTENT_PREFIX: &'static str = r#"
###############################################################################
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ pip install baml
#
###############################################################################

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code.
#
# ruff: noqa: E501,F401
# flake8: noqa: E501,F401
# pylint: disable=unused-import,line-too-long
# fmt: off
        "#;
}

pub(super) trait ToPython {
    fn to_python(&self) -> String;
}

impl ToPython for TypeValue {
    fn to_python(&self) -> String {
        match self {
            TypeValue::Bool => "bool",
            TypeValue::Float => "float",
            TypeValue::Int => "int",
            TypeValue::String => "str",
            TypeValue::Null => "None",
            TypeValue::Media(BamlMediaType::Image) => "baml_py.Image",
            TypeValue::Media(BamlMediaType::Audio) => "baml_py.Audio",
        }
        .to_string()
    }
}
